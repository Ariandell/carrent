<!DOCTYPE html>
<html lang="uk" class="dark scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-config="PROJECT_NAME">FPV Racer - Sign In</title>

    <!-- Prevent Caching -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="js/tailwind_config.js"></script>
    <link href="./css/antigravity.css?v=105" rel="stylesheet">

    <!-- Core Config -->
    <script src="js/config.js?v=99"></script>
    <script src="js/lang.js?v=100"></script>

    <!-- Visual Engines -->
    <script src="js/scroll_reveal.js?v=1"></script>
    <script src="js/prism.js?v=2" defer></script>
    <script src="js/fluid.js?v=1" defer></script>
</head>

<body
    class="overflow-hidden selection:bg-blue-500/30 selection:text-white flex flex-col items-center justify-center min-h-screen relative font-sans antialiased">

    <!-- Background Layer -->
    <div id="bg-layer" class="fixed inset-0 z-0 bg-[#050505]"></div>

    <!-- Return Home -->
    <a href="index.html"
        class="absolute top-8 left-8 text-[11px] font-medium opacity-40 hover:opacity-100 transition-opacity z-50 flex items-center gap-2 uppercase tracking-wider cursor-pointer text-white">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        <span>Back</span>
    </a>

    <!-- Main Container -->
    <main class="relative z-10 w-full max-w-[420px] px-6 flex flex-col items-center">

        <!-- Header -->
        <div class="text-center mb-10 reveal-text">
            <div
                class="w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center mx-auto mb-6 border border-white/10 backdrop-blur-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
            </div>
            <h1 class="font-manifesto text-4xl md:text-5xl tracking-wide text-white mb-2">
                ACCOUNT
            </h1>
            <p class="text-[13px] text-white/40 font-light tracking-wide" data-i18n="app_subtitle">
                Welcome back. Please enter your details.
            </p>
        </div>

        <!-- Auth Card -->
        <div id="auth-card" class="w-full relative reveal-text delay-100">

            <!-- Glass Container -->
            <div
                class="glass-panel bg-[#0a0a0a]/60 backdrop-blur-2xl rounded-[32px] border border-white/[0.08] overflow-hidden shadow-2xl shadow-black/50">

                <!-- Inner Content -->
                <div class="p-8 md:p-10">

                    <!-- Tab Switcher -->
                    <div class="flex p-1 bg-white/[0.03] rounded-xl mb-8 relative" id="tabs-container">
                        <!-- Sliding Background -->
                        <div id="tab-indicator"
                            class="absolute top-1 bottom-1 left-1 w-[calc(50%-4px)] bg-white/10 rounded-lg transition-all duration-300 ease-out border border-white/5 shadow-sm">
                        </div>

                        <button onclick="switchTab('login')" id="tab-login"
                            class="flex-1 relative z-10 py-2.5 text-[11px] font-semibold tracking-wider uppercase transition-colors text-white text-center">
                            Sign In
                        </button>
                        <button onclick="switchTab('register')" id="tab-register"
                            class="flex-1 relative z-10 py-2.5 text-[11px] font-semibold tracking-wider uppercase transition-colors text-white/40 hover:text-white/70 text-center">
                            Sign Up
                        </button>
                    </div>

                    <!-- Forms Wrapper -->
                    <div class="relative min-h-[300px]">

                        <!-- Login Form -->
                        <form id="loginForm"
                            class="space-y-5 absolute inset-0 transition-all duration-500 ease-[cubic-bezier(0.23,1,0.32,1)] opacity-100 transform translate-x-0">
                            <div class="space-y-4">
                                <div>
                                    <label
                                        class="block text-[11px] font-medium text-white/40 uppercase tracking-wider mb-2 ml-1">Email</label>
                                    <input type="email" id="email"
                                        class="w-full bg-white/[0.03] border border-white/[0.08] rounded-xl px-4 py-3.5 text-sm text-white focus:outline-none focus:border-white/20 focus:bg-white/[0.06] transition-all placeholder-white/10 font-light"
                                        placeholder="name@example.com" required>
                                </div>
                                <div>
                                    <label
                                        class="block text-[11px] font-medium text-white/40 uppercase tracking-wider mb-2 ml-1">Password</label>
                                    <input type="password" id="password"
                                        class="w-full bg-white/[0.03] border border-white/[0.08] rounded-xl px-4 py-3.5 text-sm text-white focus:outline-none focus:border-white/20 focus:bg-white/[0.06] transition-all placeholder-white/10 font-light"
                                        placeholder="••••••••" required>
                                </div>
                            </div>

                            <div class="flex justify-between items-center px-1">
                                <label class="flex items-center gap-2 cursor-pointer group">
                                    <div class="relative flex items-center">
                                        <input type="checkbox" class="peer sr-only">
                                        <div
                                            class="w-4 h-4 rounded border border-white/20 peer-checked:bg-white peer-checked:border-white transition-all">
                                        </div>
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            class="h-3 w-3 text-black absolute top-0.5 left-0.5 opacity-0 peer-checked:opacity-100 transition-opacity"
                                            viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd"
                                                d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <span
                                        class="text-[11px] font-medium text-white/40 group-hover:text-white/60 transition-colors">Remember
                                        me</span>
                                </label>
                                <a href="#" onclick="switchTab('forgot'); return false;"
                                    class="text-[11px] font-medium text-white/40 hover:text-white transition-colors">
                                    Forgot password?
                                </a>
                            </div>

                            <button type="submit"
                                class="w-full bg-white text-black rounded-xl py-3.5 text-[13px] font-bold uppercase tracking-wide hover:bg-neutral-200 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.2)] mt-2"
                                data-i18n="btn_login">
                                Sign In
                            </button>
                        </form>

                        <!-- Register Form -->
                        <form id="registerForm"
                            class="space-y-4 absolute inset-0 transition-all duration-500 ease-[cubic-bezier(0.23,1,0.32,1)] opacity-0 pointer-events-none transform translate-x-8">
                            <div>
                                <label
                                    class="block text-[11px] font-medium text-white/40 uppercase tracking-wider mb-2 ml-1">Name</label>
                                <input type="text" id="regName"
                                    class="w-full bg-white/[0.03] border border-white/[0.08] rounded-xl px-4 py-3.5 text-sm text-white focus:outline-none focus:border-white/20 focus:bg-white/[0.06] transition-all placeholder-white/10 font-light"
                                    placeholder="Your Name" required>
                            </div>
                            <div>
                                <label
                                    class="block text-[11px] font-medium text-white/40 uppercase tracking-wider mb-2 ml-1">Email</label>
                                <input type="email" id="regEmail"
                                    class="w-full bg-white/[0.03] border border-white/[0.08] rounded-xl px-4 py-3.5 text-sm text-white focus:outline-none focus:border-white/20 focus:bg-white/[0.06] transition-all placeholder-white/10 font-light"
                                    placeholder="name@example.com" required>
                            </div>
                            <div>
                                <label
                                    class="block text-[11px] font-medium text-white/40 uppercase tracking-wider mb-2 ml-1">Password</label>
                                <input type="password" id="regPass"
                                    class="w-full bg-white/[0.03] border border-white/[0.08] rounded-xl px-4 py-3.5 text-sm text-white focus:outline-none focus:border-white/20 focus:bg-white/[0.06] transition-all placeholder-white/10 font-light"
                                    placeholder="Create a password" required>
                            </div>

                            <button type="submit"
                                class="w-full bg-white text-black rounded-xl py-3.5 text-[13px] font-bold uppercase tracking-wide hover:bg-neutral-200 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.2)] mt-2"
                                data-i18n="btn_register">
                                Create Account
                            </button>
                            <p class="text-[10px] text-center text-white/30 pt-2">
                                By joining, you agree to our Terms of Service.
                            </p>
                        </form>

                        <!-- Forgot Password Form -->
                        <form id="forgotForm"
                            class="space-y-6 absolute inset-0 transition-all duration-500 ease-[cubic-bezier(0.23,1,0.32,1)] opacity-0 pointer-events-none transform translate-x-8 flex flex-col justify-center">
                            <div class="text-center mb-2">
                                <h3 class="text-lg font-semibold text-white mb-1">Reset Password</h3>
                                <p class="text-sm text-white/40">Enter your email to receive a recovery code.</p>
                            </div>

                            <div>
                                <input type="email" id="forgotEmail"
                                    class="w-full bg-white/[0.03] border border-white/[0.08] rounded-xl px-4 py-3.5 text-sm text-white focus:outline-none focus:border-white/20 focus:bg-white/[0.06] transition-all placeholder-white/10 font-light"
                                    placeholder="name@example.com" required>
                            </div>

                            <button type="submit"
                                class="w-full bg-white/[0.05] border border-white/10 text-white rounded-xl py-3.5 text-[13px] font-bold uppercase tracking-wide hover:bg-white hover:text-black transition-all"
                                data-i18n="btn_send_code">
                                Send Code
                            </button>
                            <button type="button" onclick="switchTab('login')"
                                class="w-full text-[11px] font-medium text-white/40 hover:text-white transition-colors">
                                Cancel
                            </button>
                        </form>

                        <!-- Verify Code Form -->
                        <form id="verifyForm"
                            class="space-y-6 absolute inset-0 transition-all duration-500 ease-[cubic-bezier(0.23,1,0.32,1)] opacity-0 pointer-events-none transform translate-x-8 flex flex-col justify-center">
                            <div class="text-center mb-2">
                                <h3 class="text-lg font-semibold text-white mb-1">Verify Email</h3>
                                <p class="text-sm text-white/40">We sent a 6-digit code to your email.</p>
                            </div>

                            <div>
                                <input type="text" id="verifyCode" maxlength="6"
                                    class="w-full bg-white/[0.03] border border-white/[0.08] rounded-xl px-4 py-4 text-2xl text-center font-mono text-white focus:outline-none focus:border-white/20 focus:bg-white/[0.06] transition-all placeholder-white/10 tracking-[0.5em]"
                                    placeholder="000000" required>
                            </div>

                            <button type="submit"
                                class="w-full bg-white text-black rounded-xl py-3.5 text-[13px] font-bold uppercase tracking-wide hover:bg-neutral-200 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.1)]"
                                data-i18n="btn_verify">
                                Verify
                            </button>
                            <button type="button" onclick="switchTab('login')"
                                class="w-full text-[11px] font-medium text-white/40 hover:text-white transition-colors">
                                Cancel
                            </button>
                        </form>

                        <!-- Reset Password Form -->
                        <form id="resetForm"
                            class="space-y-6 absolute inset-0 transition-all duration-500 ease-[cubic-bezier(0.23,1,0.32,1)] opacity-0 pointer-events-none transform translate-x-8 flex flex-col justify-center">
                            <div class="text-center mb-2">
                                <h3 class="text-lg font-semibold text-white mb-1">New Password</h3>
                                <p class="text-sm text-white/40">Create a secure password for your account.</p>
                            </div>

                            <div>
                                <input type="password" id="resetPass"
                                    class="w-full bg-white/[0.03] border border-white/[0.08] rounded-xl px-4 py-3.5 text-sm text-white focus:outline-none focus:border-white/20 focus:bg-white/[0.06] transition-all placeholder-white/10 font-light"
                                    placeholder="New Password" required>
                            </div>

                            <button type="submit"
                                class="w-full bg-white text-black rounded-xl py-3.5 text-[13px] font-bold uppercase tracking-wide hover:bg-neutral-200 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.1)]"
                                data-i18n="btn_reset">
                                Update Password
                            </button>
                        </form>

                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="mt-8 flex justify-center gap-6">
                <a href="#" class="text-[11px] text-white/20 hover:text-white/50 transition-colors">Privacy</a>
                <a href="#" class="text-[11px] text-white/20 hover:text-white/50 transition-colors">Terms</a>
                <a href="#" class="text-[11px] text-white/20 hover:text-white/50 transition-colors">Help</a>
            </div>
        </div>

    </main>

    <!-- Dependencies -->
    <script src="js/api.js?v=13"></script>
    <script src="js/auth.js?v=1001"></script>

    <script>
        // Tab Logic (Clean & Fluid)
        function switchTab(tabId) {
            const forms = ['loginForm', 'registerForm', 'forgotForm', 'verifyForm', 'resetForm'];

            // 1. Hide all
            forms.forEach(id => {
                const el = document.getElementById(id);
                if (!el) return;

                // Slide out
                el.style.opacity = '0';
                //el.style.transform = 'translateY(10px)'; // Subtle vertical slide - removing as it can cause layout jitter if not handled perfectly
                // Instead just use standard hiding for simplicity in this overwrite to ensure reliability
                el.classList.add('hidden');
                el.style.pointerEvents = 'none';
            });

            // 2. Show Target
            let targetId = tabId + 'Form';
            if (tabId === 'login') targetId = 'loginForm';
            if (tabId === 'register') targetId = 'registerForm';
            if (tabId === 'forgot') targetId = 'forgotForm';
            if (tabId === 'verify') targetId = 'verifyForm';
            if (tabId === 'reset') targetId = 'resetForm';

            const target = document.getElementById(targetId);
            if (target) {
                target.classList.remove('hidden');
                requestAnimationFrame(() => {
                    target.style.opacity = '1';
                    target.style.pointerEvents = 'auto';
                    target.style.transform = 'translateY(0)';
                });
            }

            // 3. Update Toggle Switch (Apple-style)
            const indicator = document.getElementById('tab-indicator');
            const tabContainer = document.getElementById('tabs-container');
            const loginBtn = document.getElementById('tab-login');
            const regBtn = document.getElementById('tab-register');

            if (tabId === 'login' || tabId === 'register') {
                tabContainer.classList.remove('opacity-0', 'pointer-events-none');

                if (tabId === 'login') {
                    indicator.style.left = '4px';
                    loginBtn.classList.remove('text-white/40');
                    loginBtn.classList.add('text-white');
                    regBtn.classList.add('text-white/40');
                    regBtn.classList.remove('text-white');
                } else {
                    // Move to right: 50% + 1px spacing
                    indicator.style.left = 'calc(50% + 0px)';
                    regBtn.classList.remove('text-white/40');
                    regBtn.classList.add('text-white');
                    loginBtn.classList.add('text-white/40');
                    loginBtn.classList.remove('text-white');
                }
            } else {
                tabContainer.classList.add('opacity-0', 'pointer-events-none');
            }
        }

        switchTab('login');
    </script>
</body>

</html>