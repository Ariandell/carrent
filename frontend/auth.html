<!DOCTYPE html>
<html lang="uk" class="dark scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-config="PROJECT_NAME">FPV Racer - Account</title>
    <!-- Prevent Caching -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="js/tailwind_config.js"></script>
    <link href="./css/antigravity.css?v=106" rel="stylesheet">

    <!-- Core Config -->
    <script src="js/config.js?v=99"></script>
    <script src="js/lang.js?v=100"></script>

    <!-- Visual Engines (Sci-Fi) -->
    <script src="js/scroll_reveal.js?v=1"></script>
    <script src="js/prism.js?v=2" defer></script>
    <script src="js/fluid.js?v=1" defer></script>
</head>

<body
    class="overflow-hidden selection:bg-neutral-500 selection:text-white flex flex-col items-center justify-center min-h-screen relative">

    <!-- Background Layer -->
    <div id="bg-layer" class="fixed inset-0 z-0 bg-[#050505]"></div>

    <!-- Return Home -->
    <a href="index.html"
        class="absolute top-8 left-8 text-[10px] font-mono opacity-40 hover:opacity-100 transition-opacity z-50 flex items-center gap-2 uppercase tracking-widest cursor-pointer">
        <span>&larr; BACK</span>
    </a>

    <!-- Main Container -->
    <main class="relative z-10 w-full max-w-lg px-6 flex flex-col items-center">

        <!-- Header: Manifesto but Serious -->
        <div class="text-center mb-12 reveal-text">
            <h1 class="font-manifesto text-6xl md:text-8xl leading-[0.85] tracking-tighter mb-4">
                <div class="gravity-text">ACCOUNT</div>
                <div class="opacity-50 gravity-text">ACCESS</div>
            </h1>
            <p class="text-[10px] font-mono opacity-50 tracking-[0.2em] uppercase" data-i18n="app_subtitle">
                SECURE AUTHENTICATION v2.4
            </p>
        </div>

        <!-- Auth Card: Restored Viewfinder Style -->
        <div id="auth-card" class="w-full relative group reveal-text delay-200">

            <!-- Viewfinder Corners (Restored) -->
            <div
                class="absolute -top-4 -left-4 w-8 h-8 border-t border-l border-white/20 opacity-50 transition-all duration-500 group-hover:w-12 group-hover:h-12 group-hover:opacity-100 group-hover:border-blue-500">
            </div>
            <div
                class="absolute -bottom-4 -right-4 w-8 h-8 border-b border-r border-white/20 opacity-50 transition-all duration-500 group-hover:w-12 group-hover:h-12 group-hover:opacity-100 group-hover:border-blue-500">
            </div>

            <!-- Glass Panel -->
            <div class="glass-panel p-1 bg-black/40 backdrop-blur-xl border border-white/10 overflow-hidden relative">

                <!-- Scanning Line (Restored) -->
                <div
                    class="absolute inset-0 pointer-events-none bg-gradient-to-b from-transparent via-blue-500/5 to-transparent h-[200%] w-full animate-scan opacity-20">
                </div>

                <!-- Inner Content -->
                <div class="p-8 md:p-10 relative z-10">

                    <!-- Technical Tab Switcher (Original Layout, Serious Text) -->
                    <div class="flex justify-between items-center mb-8 border-b border-white/5 pb-4"
                        id="tabs-container">
                        <div class="flex gap-4">
                            <button onclick="switchTab('login')" id="tab-login"
                                class="text-xs font-bold font-mono tracking-widest uppercase hover:text-white transition-colors text-white border-b-2 border-blue-500 pb-4 -mb-4.5">
                                LOGIN
                            </button>
                            <button onclick="switchTab('register')" id="tab-register"
                                class="text-xs font-bold font-mono tracking-widest uppercase hover:text-white transition-colors text-white/40 pb-4 -mb-4.5">
                                REGISTER
                            </button>
                        </div>
                        <!-- Status Dot (Subtle) -->
                        <div class="flex items-center gap-2">
                            <span class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></span>
                            <span class="text-[9px] font-mono opacity-40">SECURE</span>
                        </div>
                    </div>

                    <!-- Forms -->
                    <div class="relative min-h-[320px]">

                        <!-- Login Form (Serious Copy) -->
                        <form id="loginForm"
                            class="space-y-6 absolute inset-0 transition-all duration-500 ease-out transform translate-x-0 opacity-100">
                            <div class="group relative">
                                <input type="email" id="email"
                                    class="peer w-full bg-transparent border-b border-white/20 py-4 text-sm font-mono text-white placeholder-transparent focus:border-blue-500 focus:outline-none transition-colors"
                                    placeholder="Email" required>
                                <label for="email"
                                    class="absolute left-0 -top-2 text-[10px] text-blue-500 transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-white/40 peer-placeholder-shown:top-4 peer-focus:-top-2 peer-focus:text-[10px] peer-focus:text-blue-500 font-mono tracking-widest uppercase">
                                    Email Address
                                </label>
                            </div>

                            <div class="group relative">
                                <input type="password" id="password"
                                    class="peer w-full bg-transparent border-b border-white/20 py-4 text-sm font-mono text-white placeholder-transparent focus:border-blue-500 focus:outline-none transition-colors"
                                    placeholder="Password" required>
                                <label for="password"
                                    class="absolute left-0 -top-2 text-[10px] text-blue-500 transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-white/40 peer-placeholder-shown:top-4 peer-focus:-top-2 peer-focus:text-[10px] peer-focus:text-blue-500 font-mono tracking-widest uppercase">
                                    Password
                                </label>
                            </div>

                            <div class="flex justify-between items-center pt-2">
                                <label class="flex items-center gap-2 cursor-pointer group/chk">
                                    <div
                                        class="w-4 h-4 border border-white/20 flex items-center justify-center group-hover/chk:border-blue-500 transition-colors">
                                        <input type="checkbox" class="accordion-checkbox hidden">
                                        <!-- Custom Checkbox Check -->
                                        <div
                                            class="w-2 h-2 bg-blue-500 opacity-0 checkbox-indicator transition-opacity">
                                        </div>
                                    </div>
                                    <span
                                        class="text-[10px] font-mono opacity-50 group-hover/chk:text-white transition-colors uppercase tracking-wider"
                                        data-i18n="auto_connect">Remember Me</span>
                                </label>
                                <a href="#" onclick="switchTab('forgot'); return false;"
                                    class="text-[10px] font-mono text-blue-500/80 hover:text-blue-400 uppercase tracking-wider transition-colors"
                                    data-i18n="lost_key">
                                    Forgot Password?
                                </a>
                            </div>

                            <button type="submit"
                                class="w-full relative overflow-hidden group/btn bg-white text-black py-4 font-bold tracking-[0.2em] text-xs uppercase hover:bg-blue-500 hover:text-white transition-all duration-300"
                                data-i18n="btn_login">
                                <span class="relative z-10">SIGN IN</span>
                                <div
                                    class="absolute inset-0 transform scale-x-0 group-hover/btn:scale-x-100 origin-left transition-transform duration-300 bg-blue-600">
                                </div>
                            </button>
                        </form>

                        <!-- Register Form (Serious Copy) -->
                        <form id="registerForm"
                            class="space-y-6 absolute inset-0 transition-all duration-500 ease-out transform translate-x-10 opacity-0 pointer-events-none">
                            <div class="group relative">
                                <input type="text" id="regName"
                                    class="peer w-full bg-transparent border-b border-white/20 py-3 text-sm font-mono text-white placeholder-transparent focus:border-blue-500 focus:outline-none transition-colors"
                                    placeholder="Name" required>
                                <label for="regName"
                                    class="absolute left-0 -top-2 text-[10px] text-blue-500 transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-white/40 peer-placeholder-shown:top-3 peer-focus:-top-2 peer-focus:text-[10px] peer-focus:text-blue-500 font-mono tracking-widest uppercase">
                                    Full Name
                                </label>
                            </div>

                            <div class="group relative">
                                <input type="email" id="regEmail"
                                    class="peer w-full bg-transparent border-b border-white/20 py-3 text-sm font-mono text-white placeholder-transparent focus:border-blue-500 focus:outline-none transition-colors"
                                    placeholder="Email" required>
                                <label for="regEmail"
                                    class="absolute left-0 -top-2 text-[10px] text-blue-500 transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-white/40 peer-placeholder-shown:top-3 peer-focus:-top-2 peer-focus:text-[10px] peer-focus:text-blue-500 font-mono tracking-widest uppercase">
                                    Email Address
                                </label>
                            </div>

                            <div class="group relative">
                                <input type="password" id="regPass"
                                    class="peer w-full bg-transparent border-b border-white/20 py-3 text-sm font-mono text-white placeholder-transparent focus:border-blue-500 focus:outline-none transition-colors"
                                    placeholder="Pass" required>
                                <label for="regPass"
                                    class="absolute left-0 -top-2 text-[10px] text-blue-500 transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-white/40 peer-placeholder-shown:top-3 peer-focus:-top-2 peer-focus:text-[10px] peer-focus:text-blue-500 font-mono tracking-widest uppercase">
                                    Create Password
                                </label>
                            </div>

                            <button type="submit"
                                class="w-full relative overflow-hidden group/btn bg-white text-black py-4 font-bold tracking-[0.2em] text-xs uppercase hover:bg-emerald-500 hover:text-white transition-all duration-300 mt-2"
                                data-i18n="btn_register">
                                <span class="relative z-10">CREATE ACCOUNT</span>
                            </button>
                        </form>

                        <!-- Forgot Password Form -->
                        <form id="forgotForm"
                            class="space-y-8 absolute inset-0 transition-all duration-500 ease-out transform translate-x-10 opacity-0 pointer-events-none flex flex-col justify-center">
                            <div class="text-center">
                                <h3 class="text-xl font-bold font-manifesto tracking-tight mb-2 text-blue-500">RECOVERY
                                </h3>
                                <p class="text-[10px] font-mono opacity-50 uppercase">Enter email to restore access.</p>
                            </div>

                            <div class="group relative">
                                <input type="email" id="forgotEmail"
                                    class="peer w-full bg-transparent border-b border-white/20 py-4 text-sm font-mono text-white placeholder-transparent focus:border-blue-500 focus:outline-none transition-colors"
                                    placeholder="Email" required>
                                <label for="forgotEmail"
                                    class="absolute left-0 -top-2 text-[10px] text-blue-500 transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-white/40 peer-placeholder-shown:top-4 peer-focus:-top-2 peer-focus:text-[10px] peer-focus:text-blue-500 font-mono tracking-widest uppercase">
                                    Email Address
                                </label>
                            </div>

                            <button type="submit"
                                class="w-full btn-minimal border border-white/20 hover:bg-white hover:text-black py-3 font-bold tracking-widest text-xs uppercase transition-all"
                                data-i18n="btn_send_code">
                                Send Code
                            </button>
                            <button type="button" onclick="switchTab('login')"
                                class="w-full text-[10px] font-mono opacity-50 hover:opacity-100 uppercase tracking-widest transition-opacity">
                                < Cancel </button>
                        </form>

                        <!-- Verify Code Form -->
                        <form id="verifyForm"
                            class="space-y-8 absolute inset-0 transition-all duration-500 ease-out transform translate-x-10 opacity-0 pointer-events-none flex flex-col justify-center">
                            <div class="text-center">
                                <h3 class="text-xl font-bold font-manifesto tracking-tight mb-2 text-emerald-500">
                                    VERIFICATION</h3>
                                <p class="text-[10px] font-mono opacity-50 uppercase">Check your email for code.</p>
                            </div>

                            <div class="group relative">
                                <input type="text" id="verifyCode" maxlength="6"
                                    class="peer w-full bg-transparent border-b border-white/20 py-4 text-2xl text-center font-mono text-white placeholder-transparent focus:border-emerald-500 focus:outline-none transition-colors tracking-[0.5em]"
                                    placeholder="000000" required>
                            </div>

                            <button type="submit"
                                class="w-full btn-minimal border border-emerald-500/50 text-emerald-500 hover:bg-emerald-500 hover:text-black py-3 font-bold tracking-widest text-xs uppercase transition-all"
                                data-i18n="btn_verify">
                                Confirm
                            </button>
                            <button type="button" onclick="switchTab('login')"
                                class="w-full text-[10px] font-mono opacity-50 hover:opacity-100 uppercase tracking-widest transition-opacity">
                                < Cancel </button>
                        </form>

                        <!-- Reset Password Form -->
                        <form id="resetForm"
                            class="space-y-8 absolute inset-0 transition-all duration-500 ease-out transform translate-x-10 opacity-0 pointer-events-none flex flex-col justify-center">
                            <div class="text-center">
                                <h3 class="text-xl font-bold font-manifesto tracking-tight mb-2 text-blue-500">NEW
                                    PASSWORD</h3>
                            </div>

                            <div class="group relative">
                                <input type="password" id="resetPass"
                                    class="peer w-full bg-transparent border-b border-white/20 py-4 text-sm font-mono text-white placeholder-transparent focus:border-blue-500 focus:outline-none transition-colors"
                                    placeholder="New Pass" required>
                                <label for="resetPass"
                                    class="absolute left-0 -top-2 text-[10px] text-blue-500 transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:text-white/40 peer-placeholder-shown:top-4 peer-focus:-top-2 peer-focus:text-[10px] peer-focus:text-blue-500 font-mono tracking-widest uppercase">
                                    Set Password
                                </label>
                            </div>

                            <button type="submit"
                                class="w-full btn-minimal bg-white text-black hover:bg-gray-200 py-3 font-bold tracking-widest text-xs uppercase transition-all"
                                data-i18n="btn_reset">
                                Update
                            </button>
                        </form>

                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="mt-8 flex justify-center gap-6 opacity-30">
                <a href="#" class="text-[9px] font-mono uppercase hover:text-white transition-colors">Privacy</a>
                <a href="#" class="text-[9px] font-mono uppercase hover:text-white transition-colors">Terms</a>
            </div>
        </div>

    </main>

    <!-- Dependencies -->
    <script src="js/api.js?v=13"></script>
    <script src="js/auth.js?v=1002"></script>

    <script>
        // Checkbox Logic
        document.querySelectorAll('input[type="checkbox"]').forEach(i => {
            i.addEventListener('change', (e) => {
                const indicator = e.target.parentElement.querySelector('.checkbox-indicator');
                if (indicator) indicator.style.opacity = e.target.checked ? '1' : '0';
            });
        });

        // Tab Switching Logic (Original Sci-Fi)
        function switchTab(tabId) {
            const forms = ['loginForm', 'registerForm', 'forgotForm', 'verifyForm', 'resetForm'];

            // 1. Hide all
            forms.forEach(id => {
                const el = document.getElementById(id);
                if (!el) return;

                // Slide out
                el.style.transform = 'translateX(20px)';
                el.style.opacity = '0';
                el.style.pointerEvents = 'none';
            });

            // 2. Show Target
            let targetId = tabId + 'Form';
            if (tabId === 'login') targetId = 'loginForm';
            if (tabId === 'register') targetId = 'registerForm';
            if (tabId === 'forgot') targetId = 'forgotForm';
            if (tabId === 'verify') targetId = 'verifyForm';
            if (tabId === 'reset') targetId = 'resetForm';

            const target = document.getElementById(targetId);
            if (target) {
                setTimeout(() => {
                    target.style.transform = 'translateX(0)';
                    target.style.opacity = '1';
                    target.style.pointerEvents = 'auto';
                }, 50);
            }

            // 3. Update Header Tabs
            const tabContainer = document.getElementById('tabs-container');
            if (tabId === 'login' || tabId === 'register') {
                tabContainer.classList.remove('opacity-0', 'pointer-events-none');

                const loginBtn = document.getElementById('tab-login');
                const regBtn = document.getElementById('tab-register');

                if (tabId === 'login') {
                    loginBtn.classList.remove('text-white/40', 'border-transparent');
                    loginBtn.classList.add('text-white', 'border-blue-500');
                    regBtn.classList.add('text-white/40', 'border-transparent');
                    regBtn.classList.remove('text-white', 'border-blue-500');
                } else {
                    regBtn.classList.remove('text-white/40', 'border-transparent');
                    regBtn.classList.add('text-white', 'border-blue-500');
                    loginBtn.classList.add('text-white/40', 'border-transparent');
                    loginBtn.classList.remove('text-white', 'border-blue-500');
                }
            } else {
                tabContainer.classList.add('opacity-0', 'pointer-events-none');
            }
        }

        switchTab('login');
    </script>
</body>

</html>